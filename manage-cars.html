<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Car Rentals</title>
    <link rel="stylesheet" href="manage-cars.css">
</head>
<body>

    <header>
        <h1>Admin Panel</h1>
        <nav>
            <ul>
                <li><a href="admin.html">Add Car</a></li>
                <li><a href="manage-cars.html">Manage Cars</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="form-section">
            <h2>Add New Car Rental</h2>
            <form id="addCarForm" method="POST" action="saveCarRental.php" enctype="multipart/form-data">
                <label for="carName">Car Name:</label>
                <input type="text" id="carName" name="carName" required>

                <label for="carImage">Car Image:</label>
                <input type="file" id="carImage" name="carImage" accept="image/*" onchange="previewImage(event)" required>

                <!-- Image preview before submitting -->
                <img id="imagePreview" src="#" alt="Image Preview" style="display: none; width: 150px; height: 100px; object-fit: cover; margin-top: 10px;">

                <label for="carDescription">Car Description:</label>
                <textarea id="carDescription" name="carDescription" required></textarea>

                <label for="price">Price:</label>
                <input type="number" id="price" name="price" required>

                <label for="currency">Currency:</label>
                <select name="currency" id="currency" onchange="togglePriceFields()" required>
                    <option value="USD">USD</option>
                    <option value="Ksh">Ksh</option>
                </select>

                <div id="monthlyPriceSection" style="display: none;">
                    <label for="monthlyPrice">Monthly Amount:</label>
                    <input type="number" id="monthlyPrice" name="monthlyPrice">
                </div>

                <div id="dailyPriceSection" style="display: none;">
                    <label for="dailyPrice">Daily Amount:</label>
                    <input type="number" id="dailyPrice" name="dailyPrice">
                </div>

                <button type="submit">Add Car</button>
            </form>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Car Rental Website</p>
    </footer>

    <script>
        // Function to preview the image before uploading
        function previewImage(event) {
            var reader = new FileReader();
            reader.onload = function() {
                var output = document.getElementById('imagePreview');
                output.src = reader.result;
                output.style.display = 'block';  // Show the image preview
            }
            reader.readAsDataURL(event.target.files[0]);
        }

        // Function to toggle the visibility of price input fields based on currency selection
        function togglePriceFields() {
            var currency = document.getElementById('currency').value;
            var monthlyPriceSection = document.getElementById('monthlyPriceSection');
            var dailyPriceSection = document.getElementById('dailyPriceSection');

            if (currency === 'USD') {
                monthlyPriceSection.style.display = 'block';
                dailyPriceSection.style.display = 'block';
            } else if (currency === 'Ksh') {
                monthlyPriceSection.style.display = 'block';
                dailyPriceSection.style.display = 'none';  // Hide daily price for Ksh
            }
        }
    </script>

</body>
</html>